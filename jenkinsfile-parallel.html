pipeline {
  agent any
  stages {
    stage ('BUILD') {
	  steps {
	    echo "This is build stage"
		sh 'sleep 5'
	  }
	}
	stage ('TEST PARALLEL') {
	  parallel {
	  stage ('TEST ON CHROME') {
	   steps {
	    echo "this is test on chrome"
		sh 'sleep 5'
       }
     }
	  stage ('TEST ON SAFARI') {
	   steps {
	    echo "this is test on safari"
		sh 'sleep 5'  
       }
     }
	}
   }	
    stage ('DEPLOY PARALLEL') {
      parallel {
        stage ('server 1') {
          steps {
            echo "deploy to server1"
            sh 'sleep 5'
        }
      }
	    stage ('server 2') {
          steps {
            echo "deploy to server2"
            sh 'sleep 5'
		}
      }	
	    stage ('server 3') {
          steps {
            echo "deploy to server3"
            sh 'sleep 5'
		}
      }	
	}
   }	
  }
}